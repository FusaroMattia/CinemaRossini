{% extends "base.html" %}
{% block title %} CINEMA ROSSINI {% endblock %}

{% block navbar %}

      {% if current_user.is_authenticated :%}
        <a class="btn btn-danger  d-none d-lg-inline-block mb-3 mb-md-0 ml-md-3" href="/logout" role="button">Logout</a>
      {% else: %}
        <a class="btn  btn-success d-none d-lg-inline-block mb-3 mb-md-0 ml-md-3" href="/login" role="button">Login</a>
        <a class="btn  btn-info d-none d-lg-inline-block mb-3 mb-md-0 ml-md-3" href="/signup" role="button">Signup</a>
      {% endif%}
{% endblock %}


{% block content %}
<p> QUI ABBIAMO LA LISTA DI FILM IN PROGRAMMA</p>
<div class="contenitore">
       <div class="table">
          <div class="table-header">
                  <div class="header__item">Sala </div>
                  <div class="header__item">Film </div>
                  <div class="header__item">Data </div>
                  <div class="header__item">Ora </div>
                  <div class="header__item">Posti Liberi </div>
                  <div class="header__item">Posti Occupati </div>
          {% if current_user.is_authenticated and current_user.gestore == 0:%}
                  <div class="header__item">Acquista </div>
          {% endif%}
          </div>
  <div class="table-content">
  {% for n in results %}
        <div class="table-row">
            <div class="table-data">{{sale[loop.index-1] }}</div>


  {% if current_user.is_authenticated:%}
          <div class="table-data">
          <form action="/film" method="post" id="form">
          <input type="hidden" name="film" value="{{n[2]}}">
          <a href="javascript:{}" onclick="document.getElementById('form').submit(); return false;">{{titoli[loop.index-1] }}</a>
          </form>
          </div>
  {% else: %}
          <div class="table-data">{{titoli[loop.index-1] }}</div>
  {% endif%}


            <div class="table-data">{{n[3] }}</div>
            <div class="table-data">{{n[4] }}</div>
            <div class="table-data">{{n[5] }}</div>
            <div class="table-data">{{n[6] }}</div>
            {% if current_user.is_authenticated and current_user.gestore == 0:%}


            <div class="table-data">
            <form action="/choosesit" method="post" id="form{{n[0]}}">
            <input type="hidden" name="proiezione" value="{{n[0]}}">
            <a href="javascript:{}" onclick="document.getElementById('form{{n[0]}}').submit(); return false;">ACQUISTA</a>
            </form></div>

            {% endif%}
    </div>
  {% endfor  %}
  </div>
  </div>
  </div>


<style>
*, *:before, *:after {
  box-sizing: border-box;
}

body {
  padding: 24px;
  font-family: 'Source Sans Pro', sans-serif;
  margin: 0;
}

h1, h2, h3, h4, h5, h6 {
  margin: 0;
}

.contenitore {
  position: absolute;
    top: 0vw;
    left: 0vw;
  margin-right: auto;
    margin-left: auto;
    display: flex;
    justify-content: center;
    align-items: center;
    width: 100%;
    height: 100%;
}

.table {
  width: 100%;
  border: 1px solid #EEEEEE;
}

.table-header {
  display: flex;
  width: 100%;
  background: #000;
  padding: 18px 0;
}

.table-row {
  display: flex;
  width: 100%;
  padding: 18px 0;
}
.table-row:nth-of-type(odd) {
  background: #EEEEEE;
}

.table-data, .header__item {
  flex: 1 1 20%;
  text-align: center;
}

.header__item {
  text-transform: uppercase;
  color: white;
}

.filter__link {
  color: white;
  text-decoration: none;
  position: relative;
  display: inline-block;
  padding-left: 24px;
  padding-right: 24px;
}
.filter__link::after {
  content: '';
  position: absolute;
  right: -18px;
  color: white;
  font-size: 12px;
  top: 50%;
  transform: translateY(-50%);
}
.filter__link.desc::after {
  content: '(desc)';
}
.filter__link.asc::after {
  content: '(asc)';
}
</style>

{% endblock %}
